<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdownè½¬æ¢æµ‹è¯•</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .original, .processed, .result {
            margin-bottom: 30px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        h1 {
            font-size: 28px;
            color: #333;
        }
        h2 {
            font-size: 24px;
            color: #444;
        }
        p {
            font-size: 16px;
            color: #555;
        }
    </style>
</head>
<body>
    <h1>Markdownè½¬æ¢æµ‹è¯•</h1>
    
    <div class="original">
        <h2>åŸå§‹å†…å®¹</h2>
        <pre id="originalContent"></pre>
    </div>
    
    <div class="processed">
        <h2>å¤„ç†åå†…å®¹</h2>
        <pre id="processedContent"></pre>
    </div>
    
    <div class="result">
        <h2>è½¬æ¢ç»“æœ</h2>
        <div id="resultHtml"></div>
    </div>

    <script>
        // æ¨¡æ‹Ÿä»APIè·å–çš„å†…å®¹
        const originalContent = "# å®å®è¡£ç‰©æŒ‘é€‰æŒ‡å—ï¼šäºŒèƒå¦ˆå¦ˆçš„çº¯å¹²è´§åˆ†äº« ä½œä¸ºä¸€ä½ç»å†è¿‡æ— æ•°è¸©å‘çš„äºŒèƒå¦ˆå¦ˆï¼Œä»Šå¤©æŠŠæœ€å®ç”¨çš„å®å®è¡£ç‰©æŒ‘é€‰ç»éªŒåˆ†äº«ç»™å¤§å®¶ï¼Œè®°å¾—å…ˆæ”¶è—å†æ…¢æ…¢çœ‹å“¦ğŸ’— ## âœ… æè´¨é€‰æ‹©æ˜¯é¦–è¦ ä¸€å®šè¦é€‰**Aç±»çº¯æ£‰æè´¨**ï¼é€æ°”æŸ”è½¯å¯¹å®å®çš®è‚¤æœ€å‹å¥½ï¼Œè®°å¾—çœ‹æ ‡ç­¾ä¸Šçš„å®‰å…¨ç±»åˆ«æ ‡è¯†å“¦âœ¨ ## ğŸ“ å°ºç æŒ‘é€‰æœ‰æŠ€å·§ - æ–°ç”Ÿå„¿å»ºè®®ä¹°å¤§1-2ç ï¼Œå®å®é•¿å¾—å¿«ï¼Œå¤§ä¸€ç‚¹æ›´èˆ’é€‚ - 3ä¸ªæœˆå‰çš„å®å®å‡†å¤‡59ç æœ€å®ç”¨ï¼Œæ€§ä»·æ¯”è¶…é«˜ğŸ˜‰ ## ğŸ‘— æ¬¾å¼é€‰æ‹©è¦æ³¨æ„ - é¦–é€‰å¼€è¡«å¼å’Œå°šæœï¼Œç©¿è„±æ–¹ä¾¿ä¸ç¢°å¤´ - é¿å…è¿‡å¤šè£…é¥°ç‰©ï¼Œé˜²æ­¢åˆ®ä¼¤å®å®å¨‡å«©çš®è‚¤";
        
        document.getElementById('originalContent').textContent = originalContent;
        
        // é¢„å¤„ç†å‡½æ•°
        function preprocessMarkdown(content) {
            if (!content) return '';
            
            let processedContent = content;
            
            // 1. åœ¨æ ‡é¢˜å’Œæ­£æ–‡ä¹‹é—´æ·»åŠ æ¢è¡Œç¬¦
            processedContent = processedContent.replace(/(#+\s[^#\n]+)([^\n#])/g, '$1\n\n$2');
            
            // 2. åœ¨äºŒçº§æ ‡é¢˜ä¹‹é—´æ·»åŠ æ¢è¡Œç¬¦
            processedContent = processedContent.replace(/(##\s[^#\n]+)(##\s)/g, '$1\n\n$2');
            
            // 3. åœ¨ç²—ä½“æ–‡æœ¬å’Œæ™®é€šæ–‡æœ¬ä¹‹é—´æ·»åŠ é€‚å½“çš„ç©ºæ ¼
            processedContent = processedContent.replace(/(\*\*[^\*]+\*\*)([^\s\n])/g, '$1 $2');
            
            // 4. ç¡®ä¿åˆ—è¡¨é¡¹æ­£ç¡®åˆ†éš”
            processedContent = processedContent.replace(/(-\s[^-\n]+)(-\s)/g, '$1\n$2');
            
            return processedContent;
        }
        
        const processedContent = preprocessMarkdown(originalContent);
        document.getElementById('processedContent').textContent = processedContent;
        
        // è½¬æ¢ä¸ºHTML
        const html = marked(processedContent);
        document.getElementById('resultHtml').innerHTML = html;
    </script>
</body>
</html>